<?xml version="1.0"?><rss version="2.0"><channel>
<title>gopher.black</title>
<link>gopher://gopher.black/</link>
<description>Tomasino's Gopher Hole</description>
<item>
  <title>gopher black on tor part 2</title>
  <link>gopher://gopher.black/0/phlog/./20180428-gopher-black-on-tor-part-2/gophermap</link>
  <pubdate>Sat, 28 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
gopher.black on tor, part 2
April 28th, 2018
----------------------------------------

This gopher site is finally available as a tor hidden service with
the production onion address: blackgviz2y4nhrd.onion [0]

[0] gopher.black (tor)
    gopher://blackgviz2y4nhrd.onion/1/

In my last post [1] I mentioned three problems I had left:

1) Ugly onion addresses
2) Internal links kick you out of tor
3) Port 71

Here's how that got resolved.

I used Eschalot to generate my onion address. I let the app run
a full day trying to get something that started with gopherblack,
but the pattern was too long to find a match. I figure "black" is
good enough for folks to remember. I had about
15 different ones starting with black, but this had the best
looking pattern.

I ended up installing Gophernicus as a second gopher server next
to motsognir and configured it to serve up my same content. This
install was a tiny bit tricky since I already have a service
listenining on port 70. I also wanted Gophernicus to use my tor
address, not my actual hostname. Finally, I wanted it to run on
port 71, but act like links were still port 70. Doing all this
involved changing 3 files in the repo before I ran make install:

  gophernicus.env

  Uncomment options and give it the onion host and whatever else
  is necessary to your liking: 
  
    OPTIONS="-h blackgviz2y4nhrd.onion -nf -nt"


  gophernicus.socket

  Change port to listen on to 71 or 1138 or whatever you'll be
  using with the tor proxy.


  gophernicus@.service

  There's a line in there that looks like this:

    ExecStart=/usr/sbin/in.gophernicus -h %H $OPTIONS

  Remove the -h %H bit. We set that in options.

Now you can 'sudo make install' and it should "Just Work".
Remember to update your torrc to use port 70 and proxy to 71. This
will give you your content back on port 70 over tor and all will
be good in the world.

The last hurdle to fix were the internal links. My sexy burrow
helper wants to be a good partner, so it generates gophermaps with
full \tHOST\tPORT\r\n line endings. That's overkill for motsognir
and gophernicus, and doesn't allow them the flexibility to add
those bits itself. 

On Motsognir I can exclude the full line ending as long as
I prefix the line with type "i" and it will work.

On Gophernicus I can get rid of any type at the start of the line
and it will work.

To make both happy I need to include the type "i" at the start of
the line and add a single tab character at the end. Not two tabs
or three, just exactly one with nothing after it. This makes both
servers happy and lets them fill in the gaps.

I'll need to add a switch to burrow to generate this style in the
future, but in the meantime I can manually clean it up as I add
posts.

find . -name "gophermap" -exec sed -i 's/\tgopher.black.*//g' {} \;
</pre>]]></description>
</item>
<item>
  <title>poison sumac</title>
  <link>gopher://gopher.black/0/phlog/./20180427-poison-sumac/gophermap</link>
  <pubdate>Fri, 27 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
Poison Sumac
April 27th, 2018
----------------------------------------

We had a storm here a few weeks back that did a bunch of damage to
the trees in my yard. One of these trees in the backyard split
into three pieces straight down the middle!

On Saturday I took my hatchet and a chain saw (literally saw-teeth
on a chain that you drag back and forth by hand) and I set to work
clearing things. In the process of chopping and sawing I failed to
notice that the sad tri-split tree was also surrounded by an
overgrown bush of poison sumac. (If you're not familiar with this
particular breed of awfulness, it's just like poison ivy or poison
oak, but harder to identify.)

I was mostly prepared for the work, wearing long pants and sturdy
gloves. I didn't have on a long sleeve shirt, though (it was
hot!). So, now I'm super itchy and covered in a blistery rash.
Calamine lotion helps a bit, but I'm ready for this ordeal to be
over.

I've gotten hit by sumac twice before, and thankfully this time is
much less severe. My first exposure was on a canoeing trip where
I failed to notice that the creek I was in was surrounded on both
sides by sumac. I was covered in a rash from the waist up after
that trip.

The second time was the worst. I was in Boy Scouts on a camping
trip and one of the new scouts tossed in a bunch of green branches
into the fire. It started smoking and flew into my face before
I noticed what was going on. I was just about to explain why we
don't burn green wood when I saw what it was. Too late. I was
hospitalized that time, as I got the sumac in my eyes and lungs.
No good at all.

I hope this clears up soon. I'm so damned itchy!
</pre>]]></description>
</item>
<item>
  <title>gopher black on tor part 1</title>
  <link>gopher://gopher.black/0/phlog/./20180427-gopher-black-on-tor-part-1/gophermap</link>
  <pubdate>Fri, 27 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
gopher.black on tor, part 1
April 27th, 2018
----------------------------------------

I'm working on adding a tor hidden service to gopher.black so you
can enjoy all my steamy content anonymously, you sneaky vixen.
Honestly, the idea seemed a bit daunting but it's turned out to be
pretty straight forward. While I'm not at 100% yet, I thought
I learned enough to share while it's fresh in my mind.

Here's the main steps going from a normal gopher server to
a torified one:

  - Install tor
  - Configure tor to point to your server
  - Start tor
  - Find your hostname


Step 1: Install tor

Check out the install instructions on the tor website. In most
cases it's as simple as:

  sudo apt install tor


Step 2: Configure tor to point to your server

Everything you need to configure in tor is located at
/etc/tor/torrc. Open that bad-boy up and jump down a bit until you
find the section on Hidden Services. Mine is around line 72.
Uncomment them and make it look like so:

  HiddenServiceDir /var/lib/tor/hidden_service/
  HiddenServicePort 71 127.0.0.1:70

The first line is where your hidden service will store all its
secret shenanigans, like the private key it's going to
auto-generate for you. We'll look there in a minute to find the
hostname.

The second line describes Tor's mapping of fake port to real port.
Since we have our gopher hole running on port 70 that's what we
reference on the right. For now, we're going to tell Tor to
pretend port 71 is what we want to use publicly.


Step 3: Start tor

  sudo service tor start # or whatever your machine uses


Step 4: Find your hostname

If you have your hidden service directory like mine above, then
you just need to cat out the hostname hidden in that folder. It'll
be set up to use root permissions, so sudo like so:

  sudo cat /var/lib/tor/hidden_service/hostname

It'll spit out your ugly hostname. Mine is: fhsujakrrdvwq2gk.onion
I'll be changing it soon (see below).


Okay, now you're all set and ready to fire it up. To test you'll
need a gopher client running on tor. I installed Overbite on my
Tor Browser on my PC for easy testing, but you can also use torify
on lynx and a bunch of other things. Once you found a way to run
a tor browser that can see gopher, navigate to your gopher hole
using the onion address and port 71.

  For instance:
  gopher://fhsujakrrdvwq2gk.onion:71

It should work and you'll be moderately pleased. But now we have
problems. 99 of them (not quite).

1) Your onion address sux
2) All the links in your gopher hole on tor probably kick you back
   to your unencrypted, plaintext gopher hole
3) Port 71? What is this, NETRJS?

How can we deal with all these horrors? Let's take a look.


Problem 1: Onion addresses

It's possible to generate sexy onion addresses. You might be
familiar with protonmail's relatively readable one:

  protonirockerxow.onion

That's almost words!

So how can you get that level of not-quite-suck? Why, brute force,
of course! Check out Eschalot [0].

[0] Eschalot
    http://github.com/ReclaimYourPrivacy/eschalot

You can use this and wait... and wait... and wait... and
eventually you'll have a cool onion address. There's some issues
with it, as you can read on the README, but it's probably good
enough for gopher work.


Problem 2: Links

I don't know what gopher server you're running. I'm on motsognir,
which I love and cherish with a little too much gusto. Chances are
that your server is smart enough that if you have no gophermaps or
if you leave off the server & port info in your gophermaps they
are autogenerated based on your host name. That's awesome.
Motsognir does that too. Why aren't you using it again?

Regardless, that will break your shit on tor cause we have
a totally different host name we want to use there.

What's the solution? Well, unless someone has a better idea,
I think the best thing to do is install a second gopher server,
use a different configuration with your tor address as the host
name, and change the port to something other than 70 (more on this
next). If you are on geomyidae, it's already set up so you can run
multiple instances of the server at the same time and override the
host name and port via command line switches. I haven't figured
out how to do that with motsognir yet. I'll probably just install
gophernicus next to motsognir and serve tor over that instead.
They're fairly compatible in gophermap structures.


Problem 3: Port 71!@#$!@#$!$

If you install a second server and run it on another port, oh
let's say... 1138, then you can update your torrc file and point
tor at that new port. In fact, you can point tor at the new point
and let tor pretend it is serving it from 70. Like so:

  HiddenServicePort 70 127.0.0.1:1138

Sexy.

Restart tor and you should be good to go!


I'm still working through these 3 problems with my own solution,
but once it's all done I'll be sure to share part 2 of my journey
and give you all the new tor address.
</pre>]]></description>
</item>
<item>
  <title>grex hiccups</title>
  <link>gopher://gopher.black/0/phlog/./20180420-grex-hiccups/gophermap</link>
  <pubdate>Fri, 20 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
grex hiccups
April 20th, 2018
----------------------------------------

I'm not sure what went down over on grex [0] recently, but it
looks to have been sorted out. I'm glad to see everyone phlogging
again. Interestingly, it looks like the hiccup resulted in
moku-pona [1] kicking all the grex folk back up on top of the
lists.

Any of you grex'rs have more to the story?

[0] grex.org
    gopher://grex.org/1/
[1] moku-pona
    http://github.com/kensanata/moku-pona
</pre>]]></description>
</item>
<item>
  <title>the hobbit</title>
  <link>gopher://gopher.black/0/phlog/./20180418-the-hobbit/gophermap</link>
  <pubdate>Wed, 18 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
The Hobbit
April 18th, 2018
----------------------------------------

I just hit one of the coolest dad milestones. I'm reading The
Hobbit to my son. He's five, nearly six, and I've been talking it
up for the last couple days to get him excited. Tonight, he agreed
to listen to one page.

"If you like it," I said, "I can read a little more. If not, we
can read this other book tonight and try again later."

He agreed. He lifted a stuffed dragon to his chest and nestled
into a spot at my hip against his pillow. I looked down and he
looked back up.

A deep breath.

"In a hole in the ground there lived a hobbit."

He didn't want to stop at one.
</pre>]]></description>
</item>
<item>
  <title>sheet music</title>
  <link>gopher://gopher.black/0/phlog/./20180417-sheet-music/gophermap</link>
  <pubdate>Tue, 17 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
Sheet music
April 17th, 2018
----------------------------------------

ckeen writes [0] about ABC notation [1] on his phlog, a way to
write music in ascii that's convertable to other formats including
sheet music. I love the idea and have added a collection of
bookmarks to read. Maybe I'll get around to writing my own
converter to Shakuhachi utf-8 notation [2].

[0] ckeen - Setting music sheets
    gopher://vernunftzentrum.de/0/ckeen/phlog/2018-04-17-Setting-music-sheets.md
[1] ABC notation
    http://abcnotation.com
[2] Shakuhachi
    gopher:///1/explorations/shakuhachi
</pre>]]></description>
</item>
<item>
  <title>arduinos</title>
  <link>gopher://gopher.black/0/phlog/./20180415-arduinos/gophermap</link>
  <pubdate>Sun, 15 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
Arduinos
April 15th, 2018
----------------------------------------

Just wanted to say that I really appreciate the arduino and other
awesome, friendly microcontrollers. I'm getting a subscription box
from Creation Crate and it's stretching me to think of new ways to
use the device while also increasing my inventory. I just made
a memory game (like Simon). It was easy, but I never would have
thought to do it on my own. Next up is a distance detector which
I'm going to mod into a garage parking indicator.

Electronics was fun back in the day, but now it's also easy.
That's cool.
</pre>]]></description>
</item>
<item>
  <title>backups are good</title>
  <link>gopher://gopher.black/0/phlog/./20180414-backups-are-good/gophermap</link>
  <pubdate>Sat, 14 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
Backups are good
April 14th, 2018
----------------------------------------

Alex Schroeder wrote recently [0] about backup formats. It was an
important reminder that since I'd moved everything (web, gopher,
... is that everything?) to a raspberry pi and configured it all
to a working state, I hadn't backed up the system. Granted, all
the content I have is in git, but the system configuration itself
is worth quite a bit of work.

Evidence of this can be found easily. Tonight after I did a backup
(more on that in a second) I rebooted the machine and discovered
that bitlbee didn't start up correctly. I'm using kensanata's
fabulous bitlbee-mastodon plugin [1] to do all my social media
junk via IRC. It's awesome, but it was a headache to get working.
For some reason I couldn't get it to play nice with the apt
version of Bitlbee, so I had to compile everything from source.
Tonight when bitlbee stopped responding I ended up trying the
whole process over again, eventually giving up on apt again, and
reinstalling from source. (This time I properly set up systemd.)

Mastodon in Weechat is a minor thing, but it's evidence enough
that I don't want to have to rebuild the box. So, I unplugged the
pi for a few minutes, removed the SD card, plugged it into another
machine and 'dd' copied everything to an ISO. I don't think I need
to worry about doing that too often, thankfully, as it means
downtime for the box. If I ever needed to restore, I can flash
a new SD card, plug it in, then run update on all the git repos.
It will pick up pretty much everything that way, unless I do some
serious system additions.

I think I'll do the full SD backup semi-annually, maybe when
I change the batteries in my smoke detectors. It has a similar
sort of safety-maintenance feel.

[0] Alex Schroeder - Backup Format
    gopher://alexschroeder.ch/02018-04-13_Backup_Format
[1] Kensanata - Bitlbee-Mastodon
    http://github.com/kensanata/bitlbee-mastodon
</pre>]]></description>
</item>
<item>
  <title>port 70 or 1436con</title>
  <link>gopher://gopher.black/0/phlog/./20180412-port-70-or-1436con/gophermap</link>
  <pubdate>Thu, 12 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
Port 70 -or- 1436CON
April 12th, 2018
----------------------------------------

sysdharma posted [0], I replied [1], and sysdharma posted [2]
again about a real gopher convention. Go catch up if you haven't
read those yet. I'll wait...

[0] sysdharma - Gophercon vs Gophercon
    gopher://sdf.org/1/users/sysdharma/phlog/./2018.04.08
[1] tomasino - re sysdharma: Gophercon
    gopher:///1/phlog/20180408-re-sysdharma-gophercon
[2] sysdharma - On a Gopher conference
    gopher://sdf.org/1/users/sysdharma/phlog/./2018.04.12

Here's the thing. I want to do it.

Obviously it's not going to be in-person, but a virtual conference
is totally doable. Here's what I'm thinking:

  - A 24 hour conference
  - Everyone can submit a proposal for a session they want to run
    with the following info:

    - Who you are (handle)
    - Title / Subject of talk
    - Duration
    - Preferred time-slot in UTC
    - Medium of talk (video stream, audio stream, etc)
    - Where will you be watching for feedback/discussion (IRC,
      Social Media, raw TCP packets?)

    We will need a place where these can be submitted and stored.
    It would be great if the submissions could be done in Gopher
    itself (anyone want to volunteer to write a cgi for
    submissions?).
  
  - After X number of days/weeks, we close submissions and print
    up a schedule for everyone to review
  - On the day of the event, it's up to the speakers to get
    themselves online in their medium. (Maybe we can get a 24hr
    anonradio takeover?)
  - Folks can tune in and join the relevant chats
  - Archive the shit out of all of it and host it EVERYWHERE

I also think we should do one or two "special" sessions and close
off the time blocks so they're not up against anyone else.
Round-table or panel discussions would be cool for this. I welcome
ideas.

Finally, I think a hackathon would be cool to toss in the mix. It
could be done the day of, or the day before and results shared out
on the day. I'm not sure what we could gather in prizes, but for
our retro-con I bet we could get a couple minor sponsors willing
to toss in some swag. I'd be amazed if smj didn't jump at the
opportunity to offload some old SDF stickers. ;)

Like the panel discussion, the focus of the hackathon would be
something great to debate. My first suggestion: "Gopher meets
Docker". What sorts of amazingly cool configurations could we bust
out for the community in easy-to-deploy ways? TLS? TOR? Whatever
you can dream up. We could vote on the winners on GopherPoll or
something.

Speaking of GopherPoll (thanks tfurrows for pointing it out),
I'd like to offer one up right away and get your feedback:

[3] What should we name this gopher convention?
    gopher://khzae.net/1/poll/1523589765
</pre>]]></description>
</item>
<item>
  <title>burrow v1 5 0 portable</title>
  <link>gopher://gopher.black/0/phlog/./20180411-burrow-v1-5-0-portable/gophermap</link>
  <pubdate>Wed, 11 Apr 2018 00:00:00 -0400</pubdate>
  <description><![CDATA[<pre>
----------------------------------------
burrow v1.5.0 - portable
April 11th, 2018
----------------------------------------

burrow v1.5.0 is released [0]. I've removed the bash 4+
requirement and moved the script to /bin/sh. There are a number of
other small improvements and bug fixes as well.

[0] burrow v1.5.0
    http://github.com/jamestomasino/burrow/releases/tag/v1.5.0

You can always find a link to the latest release in the root of
this gopher hole. Grab your copy and test it out. Find a bug? Log
it on Github, please [1].

[1] burrow issues
    http://github.com/jamestomasino/burrow/issues
</pre>]]></description>
</item>
</channel>
</rss>
